<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <head>
        <title>Rethinking Homelessness: Home</title>
        <link rel='stylesheet' type='text/css' href='/common.css' />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    </head>
    <body style="background: #ddd">

        <div layout:fragment="contents">
            <div id="browse-topnavbg">
                <a></a>
            </div>
            <div id='browse-topnav' class='topnav'>
                <a href='/'><img src='/logo.png' class='left-image' alt='Logo of Re:Thinking Homelessness' height=50></a>
                <a href='/' class = 'topnav-button'>Home</a>
                <a href='/mission' class = 'topnav-button'>Mission</a>
                <a href='/browse/' class = 'topnav-button'>Browse LGAs</a>
            </div>

            <div id='browse-sidenav' class="sidenav">
                <a class = 'sidenav-button' href="/browse/1">VIC</a>
                <a class = 'sidenav-button' href="/browse/2">NSW</a>
                <a class = 'sidenav-button' href="/browse/3">QLD</a>
                <a class = 'sidenav-button' href="/browse/4">SA</a>
                <a class = 'sidenav-button' href="/browse/5">NT</a>
                <a class = 'sidenav-button' href="/browse/6">WA</a>
                <a class = 'sidenav-button' href="/browse/7">TAS</a>
            </div>

            <div class="content" id="browse-content">
                <h1 style="margin-bottom: 21px;">Browse Lgas</h1>

                <div style="margin-bottom: -121px;">
                    <h2 class="browse-title">Quick Facts</h2>

                    <div class="flex-container">

                        <div class="years">
                            <h3><b><u>2016</u></b></h3>
                            <p>Total Population in 2018: <p class="browse-numbers" th:text="${pop16}"></p></p>
                            <p>Total Homeless in 2016: <p class="browse-numbers" th:text="${homeless16}"></p></p>
                            <p>Total At Risk in 2016: <p class="browse-numbers" th:text="${atRisk16}"></p></p>
                        </div>

                        <div class="years">
                            <h3><b><u>2018</u></b></h3>
                            <p>Total Population in 2018: <p class="browse-numbers" th:text="${pop18}"></p></p>
                            <p>Total Homeless in 2018: <p class="browse-numbers" th:text="${homeless18}"></p></p>
                            <p>Total At Risk in 2016: <p class="browse-numbers" th:text="${atRisk18}"></p></p>
                        </div>

                        <div class="years">
                            <h3><b><u>Overall</u></b></h3>
                            <p>Median Age: <p class="browse-numbers" th:text="${median_age}"></p></p>
                            <p>Median Weekly Household Income: <p class="browse-numbers" th:text="${median_household_weekly_income}"></p></p>
                            <p>Median Monthly Mortgage Repay: <p class="browse-numbers" th:text="${median_mortgage_repay_monthly}"></p></p>
                            <p>Median Weekly Rent: <p class="browse-numbers" th:text="${median_rent_weekly}"></p></p>
                        </div>

                    </div>

                </div>

                <div>


                    <table class="table table-striped table-bordered" id="sortTable">

                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Population 2016 <br> <input type="text" id="min1" name="min1" placeholder="min"> <br> <input type="text" id="max1" name="max1" placeholder="max"></th>
                                <th>Population 2018 <br> <input type="text" id="min2" name="min2" placeholder="min"> <br> <input type="text" id="max2" name="max2" placeholder="max"></th>
                                <th>Homeless 2016 <br> <input type="text" id="min3" name="min3" placeholder="min"> <br> <input type="text" id="max3" name="max3" placeholder="max"></th>
                                <th>Homeless 2018 <br> <input type="text" id="min4" name="min4" placeholder="min"> <br> <input type="text" id="max4" name="max4" placeholder="max"></th>
                                <th>At Risk 2016 <br> <input type="text" id="min5" name="min5" placeholder="min"> <br> <input type="text" id="max5" name="max5" placeholder="max"></th>
                                <th>At Risk 2018 <br> <input type="text" id="min6" name="min6" placeholder="min"> <br> <input type="text" id="max6" name="max6" placeholder="max"></th>
                                <th>Median Age <br> <input type="text" id="min7" name="min7" placeholder="min"> <br> <input type="text" id="max7" name="max7" placeholder="max"></th>
                                <th>Median Weekly Household Income <br> <input type="text" id="min8" name="min8" placeholder="min"> <br> <input type="text" id="max8" name="max8" placeholder="max"></th>
                                <th>Median Monthly Mortgage Repay <br> <input type="text" id="min9" name="min9" placeholder="min"> <br> <input type="text" id="max9" name="max9" placeholder="max"></th>
                                <th>Median Weekly Rent <br> <input type="text" id="min1" name="min10" placeholder="min"> <br> <input type="text" id="max10" name="max10" placeholder="max"></th>
                            </tr>
                        </thead>
                        <tbody>


                            <tr th:each="lga : ${lgas}">
                                <td><a th:text="${lga.lga_name}" th:href="@{'/search/' +${lga.lga_code}}">Onions</a></td>
                                <td th:text="${lga.pop16}">Onions</td>
                                <td th:text="${lga.pop18}">Onions</td>
                                <td th:text="${lga.homeless16}">Onions</td>
                                <td th:text="${lga.homeless18}">Onions</td>
                                <td th:text="${lga.atRisk16}">Onions</td>
                                <td th:text="${lga.atRisk18}">Onions</td>
                                <td th:text="${lga.median_age}">Onions</td>
                                <td th:text="${lga.median_household_weekly_income}">Onions</td>
                                <td th:text="${lga.median_mortgage_repay_monthly}">Onions</td>
                                <td th:text="${lga.median_rent_weekly}">Onions</td>
                            </tr>
                        </tbody>
                    </table>

                    <script>

                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min1').val(), 10);
                        var max = parseInt($('#max1').val(), 10);
                        var val = parseFloat(data[1]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min2').val(), 10);
                        var max = parseInt($('#max2').val(), 10);
                        var val = parseFloat(data[2]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min3').val(), 10);
                        var max = parseInt($('#max3').val(), 10);
                        var val = parseFloat(data[3]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min4').val(), 10);
                        var max = parseInt($('#max4').val(), 10);
                        var val = parseFloat(data[4]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min5').val(), 10);
                        var max = parseInt($('#max5').val(), 10);
                        var val = parseFloat(data[5]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min6').val(), 10);
                        var max = parseInt($('#max6').val(), 10);
                        var val = parseFloat(data[6]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min7').val(), 10);
                        var max = parseInt($('#max7').val(), 10);
                        var val = parseFloat(data[7]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min8').val(), 10);
                        var max = parseInt($('#max8').val(), 10);
                        var val = parseFloat(data[8]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min9').val(), 10);
                        var max = parseInt($('#max9').val(), 10);
                        var val = parseFloat(data[9]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });
                    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                        var min = parseInt($('#min10').val(), 10);
                        var max = parseInt($('#max10').val(), 10);
                        var val = parseFloat(data[10]) || 0; // use data for the age column

                        if (
                            (isNaN(min) && isNaN(max)) ||
                            (isNaN(min) && val <= max) ||
                            (min <= val && isNaN(max)) ||
                            (min <= val && val <= max)
                        ) {
                            return true;
                        }
                        return false;
                    });



                    $(document).ready(function () {
                        var table = $('#sortTable').DataTable();

                        // Event listener to the two range filtering inputs to redraw on input
                        $('#min1, #max1, #min1, #max2, #min2, #max3, #min3, #max4, #min4, #max4, #min5, #max5, #min6, #max6, #min7, #max7,#min8, #max8, #min9, #max9, #min10, #max10').keyup(function () {
                            table.draw();
                        });
                    });
                    </script>
                </div>
            </div>



                <div class='footer' id="withsidenav">
                    <p style="margin-top: 8px; margin-bottom: 8px;">COSC-2803 Social Challange Portfolio</p>
                </div>
            </div>
        </div>
    </body>
</html>
